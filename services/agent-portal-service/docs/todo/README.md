# Agent Portal Service â€” Gap Analysis & MVP Task List

> Generated by comparing [portal-backend-FRD.md](../portal-backend-FRD.md) against the current codebase.

---

## Executive Summary

| Area | FRD Status | Code Status | Gap Severity |
|------|-----------|-------------|-------------|
| ğŸ” **Authentication & Sessions** | Fully spec'd | âœ… Implemented | ğŸŸ¢ Low |
| ğŸ“‹ **Onboarding Workflow** | 5-step wizard | âœ… Implemented | ğŸŸ¢ Low |
| ğŸ“Š **Dashboard & Metrics** | Full spec | âœ… Implemented (BFF) | ğŸŸ¢ Low |
| ğŸ’¬ **Conversation Management** | Full spec | ğŸŸ¡ Basic Implementation | ğŸŸ¡ Medium |
| ğŸ’¬ **Agent Widget / Messaging** | Full spec | âœ… Implemented (RabbitMQ) | ğŸŸ¢ Low |
| ğŸ”Œ **Real-time (WebSocket)** | Full spec | âœ… Implemented | ğŸŸ¢ Low |
| âœ… **Input Validation (Joi)** | Full spec | âœ… Implemented | ğŸŸ¢ Low |
| ğŸ”„ **Error Handling** | Full spec | âœ… Standardized | ğŸŸ¢ Low |
| ~~ğŸ›¡ï¸ Security Hardening~~ | Full spec | ğŸ”´ Largely Missing | â­ï¸ Deferred |
| ~~âš¡ Performance & Caching~~ | Full spec | ğŸ”´ Not Implemented | â­ï¸ Deferred |
| ~~ğŸ“ˆ Observability (Metrics)~~ | Full spec | ğŸŸ¡ Logging Only | â­ï¸ Deferred |

---

## ğŸ MVP Scope (2 Phases, 28 Tasks)

### Phase 1 â€” Core (must-have)
| # | File | Area | Status |
|---|------|------|--------|
| 08 | [08-input-validation.md](./08-input-validation.md) | Validation | âœ… Done |
| 01 | [01-onboarding-workflow.md](./01-onboarding-workflow.md) | Onboarding | âœ… Done |
| 02 | [02-dashboard-metrics.md](./02-dashboard-metrics.md) | Dashboard | âœ… Done |

### Phase 2 â€” Essential Features
| # | File | Area | Status |
|---|------|------|--------|
| 04 | [04-realtime-websocket.md](./04-realtime-websocket.md) | WebSocket | âœ… Done |
| 07 | [07-error-handling.md](./07-error-handling.md) | Error Handling | âœ… Done |

### â­ï¸ Deferred (Post-MVP)
| # | File | Area | Reason |
|---|------|------|--------|
| 03 | [03-security-hardening.md](./03-security-hardening.md) | Security | Add after core features stable |
| 05 | [05-observability.md](./05-observability.md) | Observability | Logging already works |
| 06 | [06-performance.md](./06-performance.md) | Performance | Optimize after MVP validated |

---

## Dependency Graph

```
08-input-validation â”€â”€â”
                      â”œâ”€â”€> 01-onboarding â”€â”€> 02-dashboard
07-error-handling â”€â”€â”€â”€â”˜           â”‚
                                  â””â”€â”€> 04-realtime-websocket
```

> **Deferred items** (03, 05, 06) have no MVP dependencies and can be added independently post-launch.
